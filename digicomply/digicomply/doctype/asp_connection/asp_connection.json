{
    "actions": [],
    "allow_rename": 0,
    "autoname": "format:{company}-{asp_provider}",
    "creation": "2026-02-17 00:00:00.000000",
    "doctype": "DocType",
    "editable_grid": 1,
    "engine": "InnoDB",
    "field_order": [
        "connection_section",
        "company",
        "asp_provider",
        "connection_name",
        "column_break_1",
        "enabled",
        "is_default",
        "connection_status",
        "authentication_section",
        "auth_type",
        "api_key",
        "api_secret",
        "column_break_2",
        "access_token",
        "refresh_token",
        "token_expiry",
        "certificate_section",
        "certificate_file",
        "certificate_password",
        "oauth_section",
        "client_id",
        "client_secret",
        "column_break_3",
        "authorization_url",
        "token_url",
        "redirect_uri",
        "settings_section",
        "base_url",
        "environment",
        "column_break_4",
        "timeout_seconds",
        "max_retries",
        "rate_limit_per_minute",
        "sync_section",
        "auto_sync_enabled",
        "sync_interval_minutes",
        "last_sync_at",
        "column_break_5",
        "next_sync_at",
        "sync_direction",
        "sync_invoices",
        "sync_customers",
        "status_section",
        "last_successful_sync",
        "last_error",
        "column_break_6",
        "total_syncs",
        "successful_syncs",
        "failed_syncs"
    ],
    "fields": [
        {
            "fieldname": "connection_section",
            "fieldtype": "Section Break",
            "label": "Connection Details"
        },
        {
            "fieldname": "company",
            "fieldtype": "Link",
            "in_list_view": 1,
            "in_standard_filter": 1,
            "label": "Company",
            "options": "Company",
            "reqd": 1
        },
        {
            "fieldname": "asp_provider",
            "fieldtype": "Select",
            "in_list_view": 1,
            "in_standard_filter": 1,
            "label": "ASP Provider",
            "options": "\nClearTax\nCygnet\nZoho\nTabadul\nTally\nOther",
            "reqd": 1
        },
        {
            "fieldname": "connection_name",
            "fieldtype": "Data",
            "label": "Connection Name",
            "description": "Friendly name for this connection"
        },
        {
            "fieldname": "column_break_1",
            "fieldtype": "Column Break"
        },
        {
            "default": "1",
            "fieldname": "enabled",
            "fieldtype": "Check",
            "in_list_view": 1,
            "label": "Enabled"
        },
        {
            "default": "0",
            "fieldname": "is_default",
            "fieldtype": "Check",
            "label": "Is Default",
            "description": "Default connection for this company"
        },
        {
            "fieldname": "connection_status",
            "fieldtype": "Select",
            "in_list_view": 1,
            "label": "Status",
            "options": "Not Connected\nConnected\nError\nExpired",
            "default": "Not Connected",
            "read_only": 1
        },
        {
            "fieldname": "authentication_section",
            "fieldtype": "Section Break",
            "label": "Authentication"
        },
        {
            "fieldname": "auth_type",
            "fieldtype": "Select",
            "label": "Authentication Type",
            "options": "API Key\nOAuth 2.0\nBasic Auth\nCertificate",
            "reqd": 1
        },
        {
            "depends_on": "eval:doc.auth_type=='API Key' || doc.auth_type=='Basic Auth'",
            "fieldname": "api_key",
            "fieldtype": "Password",
            "label": "API Key / Username"
        },
        {
            "depends_on": "eval:doc.auth_type=='API Key' || doc.auth_type=='Basic Auth'",
            "fieldname": "api_secret",
            "fieldtype": "Password",
            "label": "API Secret / Password"
        },
        {
            "fieldname": "column_break_2",
            "fieldtype": "Column Break"
        },
        {
            "depends_on": "eval:doc.auth_type=='OAuth 2.0'",
            "fieldname": "access_token",
            "fieldtype": "Password",
            "label": "Access Token",
            "read_only": 1
        },
        {
            "depends_on": "eval:doc.auth_type=='OAuth 2.0'",
            "fieldname": "refresh_token",
            "fieldtype": "Password",
            "label": "Refresh Token",
            "read_only": 1
        },
        {
            "depends_on": "eval:doc.auth_type=='OAuth 2.0'",
            "fieldname": "token_expiry",
            "fieldtype": "Datetime",
            "label": "Token Expiry",
            "read_only": 1
        },
        {
            "collapsible": 1,
            "depends_on": "eval:doc.auth_type=='Certificate'",
            "fieldname": "certificate_section",
            "fieldtype": "Section Break",
            "label": "Certificate Configuration"
        },
        {
            "depends_on": "eval:doc.auth_type=='Certificate'",
            "description": "PFX/P12 certificate file for Tabadul authentication",
            "fieldname": "certificate_file",
            "fieldtype": "Attach",
            "label": "Certificate File (PFX/P12)"
        },
        {
            "depends_on": "eval:doc.auth_type=='Certificate'",
            "description": "Password for the certificate file",
            "fieldname": "certificate_password",
            "fieldtype": "Password",
            "label": "Certificate Password"
        },
        {
            "collapsible": 1,
            "depends_on": "eval:doc.auth_type=='OAuth 2.0'",
            "fieldname": "oauth_section",
            "fieldtype": "Section Break",
            "label": "OAuth Configuration"
        },
        {
            "fieldname": "client_id",
            "fieldtype": "Data",
            "label": "Client ID"
        },
        {
            "fieldname": "client_secret",
            "fieldtype": "Password",
            "label": "Client Secret"
        },
        {
            "fieldname": "column_break_3",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "authorization_url",
            "fieldtype": "Data",
            "label": "Authorization URL"
        },
        {
            "fieldname": "token_url",
            "fieldtype": "Data",
            "label": "Token URL"
        },
        {
            "fieldname": "redirect_uri",
            "fieldtype": "Data",
            "label": "Redirect URI",
            "read_only": 1
        },
        {
            "fieldname": "settings_section",
            "fieldtype": "Section Break",
            "label": "Connection Settings"
        },
        {
            "fieldname": "base_url",
            "fieldtype": "Data",
            "label": "Base URL",
            "description": "API base URL (auto-filled based on provider)"
        },
        {
            "fieldname": "environment",
            "fieldtype": "Select",
            "label": "Environment",
            "options": "Production\nSandbox\nUAT",
            "default": "Production"
        },
        {
            "fieldname": "column_break_4",
            "fieldtype": "Column Break"
        },
        {
            "default": "30",
            "fieldname": "timeout_seconds",
            "fieldtype": "Int",
            "label": "Timeout (seconds)"
        },
        {
            "default": "3",
            "fieldname": "max_retries",
            "fieldtype": "Int",
            "label": "Max Retries"
        },
        {
            "default": "60",
            "fieldname": "rate_limit_per_minute",
            "fieldtype": "Int",
            "label": "Rate Limit (per minute)"
        },
        {
            "fieldname": "sync_section",
            "fieldtype": "Section Break",
            "label": "Sync Configuration"
        },
        {
            "default": "0",
            "fieldname": "auto_sync_enabled",
            "fieldtype": "Check",
            "label": "Auto Sync Enabled"
        },
        {
            "default": "60",
            "depends_on": "auto_sync_enabled",
            "fieldname": "sync_interval_minutes",
            "fieldtype": "Int",
            "label": "Sync Interval (minutes)"
        },
        {
            "fieldname": "last_sync_at",
            "fieldtype": "Datetime",
            "label": "Last Sync At",
            "read_only": 1
        },
        {
            "fieldname": "column_break_5",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "next_sync_at",
            "fieldtype": "Datetime",
            "label": "Next Sync At",
            "read_only": 1
        },
        {
            "fieldname": "sync_direction",
            "fieldtype": "Select",
            "label": "Sync Direction",
            "options": "Pull Only\nPush Only\nBidirectional",
            "default": "Pull Only"
        },
        {
            "default": "1",
            "fieldname": "sync_invoices",
            "fieldtype": "Check",
            "label": "Sync Invoices"
        },
        {
            "default": "0",
            "fieldname": "sync_customers",
            "fieldtype": "Check",
            "label": "Sync Customers"
        },
        {
            "fieldname": "status_section",
            "fieldtype": "Section Break",
            "label": "Sync Status"
        },
        {
            "fieldname": "last_successful_sync",
            "fieldtype": "Datetime",
            "label": "Last Successful Sync",
            "read_only": 1
        },
        {
            "fieldname": "last_error",
            "fieldtype": "Small Text",
            "label": "Last Error",
            "read_only": 1
        },
        {
            "fieldname": "column_break_6",
            "fieldtype": "Column Break"
        },
        {
            "default": "0",
            "fieldname": "total_syncs",
            "fieldtype": "Int",
            "label": "Total Syncs",
            "read_only": 1
        },
        {
            "default": "0",
            "fieldname": "successful_syncs",
            "fieldtype": "Int",
            "label": "Successful Syncs",
            "read_only": 1
        },
        {
            "default": "0",
            "fieldname": "failed_syncs",
            "fieldtype": "Int",
            "label": "Failed Syncs",
            "read_only": 1
        }
    ],
    "index_web_pages_for_search": 1,
    "links": [],
    "modified": "2026-02-17 00:00:00.000000",
    "modified_by": "Administrator",
    "module": "DigiComply",
    "name": "ASP Connection",
    "naming_rule": "Expression",
    "owner": "Administrator",
    "permissions": [
        {
            "create": 1,
            "delete": 1,
            "email": 1,
            "export": 1,
            "print": 1,
            "read": 1,
            "report": 1,
            "role": "System Manager",
            "share": 1,
            "write": 1
        },
        {
            "create": 1,
            "email": 1,
            "export": 1,
            "print": 1,
            "read": 1,
            "report": 1,
            "role": "Accounts Manager",
            "share": 1,
            "write": 1
        }
    ],
    "sort_field": "modified",
    "sort_order": "DESC",
    "states": [],
    "title_field": "connection_name",
    "track_changes": 1
}
