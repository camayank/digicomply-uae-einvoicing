{
    "name": "Retention Policy",
    "module": "DigiComply",
    "doctype": "DocType",
    "custom": 0,
    "istable": 0,
    "issingle": 0,
    "is_tree": 0,
    "editable_grid": 0,
    "track_changes": 1,
    "engine": "InnoDB",
    "naming_rule": "Set by user",
    "title_field": "policy_name",
    "search_fields": "policy_name,document_type",
    "sort_field": "creation",
    "sort_order": "ASC",
    "description": "Data retention policies for compliance",
    "fields": [
        {
            "fieldname": "policy_section",
            "fieldtype": "Section Break",
            "label": "Policy Details"
        },
        {
            "fieldname": "policy_name",
            "fieldtype": "Data",
            "label": "Policy Name",
            "reqd": 1,
            "unique": 1,
            "in_list_view": 1
        },
        {
            "fieldname": "document_type",
            "fieldtype": "Link",
            "label": "Document Type",
            "options": "DocType",
            "reqd": 1,
            "in_list_view": 1
        },
        {
            "fieldname": "column_break_1",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "enabled",
            "fieldtype": "Check",
            "label": "Enabled",
            "default": "1"
        },
        {
            "fieldname": "is_default",
            "fieldtype": "Check",
            "label": "Default Policy"
        },
        {
            "fieldname": "retention_section",
            "fieldtype": "Section Break",
            "label": "Retention Period"
        },
        {
            "fieldname": "retention_years",
            "fieldtype": "Int",
            "label": "Retention Years",
            "default": "5",
            "description": "UAE FTA requires 5 years minimum"
        },
        {
            "fieldname": "retention_months",
            "fieldtype": "Int",
            "label": "Additional Months",
            "default": "0"
        },
        {
            "fieldname": "column_break_2",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "date_field",
            "fieldtype": "Data",
            "label": "Date Field",
            "default": "creation",
            "description": "Field to calculate retention from"
        },
        {
            "fieldname": "grace_period_days",
            "fieldtype": "Int",
            "label": "Grace Period (Days)",
            "default": "30"
        },
        {
            "fieldname": "purge_section",
            "fieldtype": "Section Break",
            "label": "Purge Settings"
        },
        {
            "fieldname": "auto_purge",
            "fieldtype": "Check",
            "label": "Auto Purge",
            "default": "0"
        },
        {
            "fieldname": "require_approval",
            "fieldtype": "Check",
            "label": "Require Approval",
            "default": "1"
        },
        {
            "fieldname": "export_before_purge",
            "fieldtype": "Check",
            "label": "Export Before Purge",
            "default": "1"
        },
        {
            "fieldname": "column_break_3",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "notify_before_purge",
            "fieldtype": "Check",
            "label": "Notify Before Purge",
            "default": "1"
        },
        {
            "fieldname": "notification_days",
            "fieldtype": "Int",
            "label": "Notify Days Before",
            "default": "30",
            "depends_on": "notify_before_purge"
        },
        {
            "fieldname": "filters_section",
            "fieldtype": "Section Break",
            "label": "Filters",
            "collapsible": 1
        },
        {
            "fieldname": "company",
            "fieldtype": "Link",
            "label": "Company",
            "options": "Company"
        },
        {
            "fieldname": "additional_filters",
            "fieldtype": "Code",
            "label": "Additional Filters (JSON)",
            "options": "JSON"
        }
    ],
    "permissions": [
        {
            "role": "System Manager",
            "read": 1,
            "write": 1,
            "create": 1,
            "delete": 1
        },
        {
            "role": "DigiComply Admin",
            "read": 1,
            "write": 1,
            "create": 1,
            "delete": 0
        }
    ]
}
